{"is_source_file": true, "format": "Kotlin", "description": "This file defines a singleton object 'RatingsCodec' responsible for encoding and decoding ratings and reviews data for persistence, including functions for handling reviews and aggregate ratings with custom escaping and parsing logic.", "external_files": [], "external_methods": [], "published": ["RatingsCodec.encodeReviews", "RatingsCodec.decodeReviews", "RatingsCodec.encodeAggregates", "RatingsCodec.decodeAggregates"], "classes": [], "methods": [{"name": "encodeReviews", "description": "Encodes a list of Review objects into a newline-delimited string with each review's fields separated by pipes, applying escaping as necessary."}, {"name": "decodeReviews", "description": "Decodes a persisted string into a list of Review objects, handling malformed data defensively."}, {"name": "encodeAggregates", "description": "Encodes a map of ReviewTarget to RatingAggregate into a string for quick display."}, {"name": "decodeAggregates", "description": "Decodes a string into a map of ReviewTarget to RatingAggregate, handling malformed data gracefully."}, {"name": "escape", "description": "Escapes special characters in a string (pipe, newline, backslash) for safe encoding."}, {"name": "unescape", "description": "Reverses the escaping process to restore original string."}, {"name": "splitEscaped", "description": "Splits a string by an escape-aware separator, correctly handling escaped separator characters."}], "calls": ["splitEscaped", "unescape"], "search-terms": ["RatingsCodec", "encodeReviews", "decodeReviews", "encodeAggregates", "decodeAggregates", "reviews encoding", "reviews decoding", "aggregates encoding", "aggregates decoding"], "state": 2, "file_id": 75, "knowledge_revision": 249, "git_revision": "", "hash": "f71c93f7bce903823b284cc45630829b", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/data/ratings/RatingsCodec.kt", "revision_history": [{"249": ""}]}