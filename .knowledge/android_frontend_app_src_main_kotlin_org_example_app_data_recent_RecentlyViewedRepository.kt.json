{"is_source_file": true, "format": "Kotlin", "description": "This file implements a singleton repository for managing recently viewed restaurants and menu items in an Android application. It uses bounded MRU (Most Recently Used) lists stored in SharedPreferences via PreferencesStorage, and exposes LiveData for observing changes to the recent lists.", "external_files": ["org/example/app/data/storage/PreferencesStorage.kt"], "external_methods": ["PreferencesStorage.from(context)", "loadRecentlyViewedRestaurantIds()", "loadRecentlyViewedMenuItemIds()", "saveRecentlyViewedRestaurantIds()", "saveRecentlyViewedMenuItemIds()"], "published": ["RecentlyViewedRepository"], "classes": [], "methods": [{"name": "initialize", "description": "Initializes the repository with context, loading persisted data into in-memory MRU lists."}, {"name": "recordRestaurantView", "description": "Records a restaurant view event, updating the MRU list and persisting."}, {"name": "recordMenuItemView", "description": "Records a menu item view event, updating the MRU list and persisting."}], "calls": ["PreferencesStorage.from(context)", "st.loadRecentlyViewedRestaurantIds()", "st.loadRecentlyViewedMenuItemIds()", "storage?.saveRecentlyViewedRestaurantIds()", "storage?.saveRecentlyViewedMenuItemIds()", "pushMru()", "publishRestaurants()", "publishMenuItems()"], "search-terms": ["RecentlyViewedRepository", "PreferencesStorage", "MRU list", "SharedPreferences", "live data", "restaurant IDs", "menu item IDs", "recently viewed"], "state": 2, "file_id": 93, "knowledge_revision": 329, "git_revision": "", "hash": "36bdf462d45a8975a54ae3e5e6673e94", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/data/recent/RecentlyViewedRepository.kt", "revision_history": [{"329": ""}]}