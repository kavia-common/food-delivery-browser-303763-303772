{"is_source_file": true, "format": "Kotlin", "description": "The file defines a Kotlin class `ItemOptionsBottomSheet` which is a UI component (bottom sheet) used in a food delivery app to select variants and add-ons for a menu item before adding or editing it in the cart. It handles displaying options, validating selections, computing prices, and notifying listeners of the confirmed configuration.", "external_files": ["androidx.core.view.isVisible", "com.google.android.material.bottomsheet.BottomSheetDialogFragment", "com.google.android.material.button.MaterialButton", "org.example.app.R", "org.example.app.common.Formatters", "org.example.app.data.models.AddOnGroup", "org.example.app.data.models.ItemConfiguration", "org.example.app.data.models.MenuItem", "org.example.app.data.models.VariantGroup", "org.example.app.data.models.computeOptionsDeltaCents"], "external_methods": ["getString", "requireContext", "View.inflate", "View.generateViewId", "layoutInflater.inflate"], "published": ["ItemOptionsBottomSheet"], "classes": [{"name": "ItemOptionsBottomSheet", "description": "A BottomSheetDialogFragment that allows users to select variants and add-ons for a menu item, customize the configuration, and confirm their choices."}], "methods": [{"name": "bind", "description": "Binds a menu item, initial configuration, quantity, and listener to the bottom sheet. Call before showing the sheet to set up initial state."}, {"name": "onCreateView", "description": "Inflates the layout for the bottom sheet's view hierarchy."}, {"name": "onViewCreated", "description": "Initializes UI components, sets up event handlers, builds variant and add-on groups views, and sets the sheet's title and price."}, {"name": "buildVariantGroupView", "description": "Creates a view for a variant group with radio buttons for each option, handling selection logic."}, {"name": "buildAddOnGroupView", "description": "Creates a view for an add-on group with checkboxes, enforcing max selections, and updating total price."}, {"name": "buildOptionLabel", "description": "Builds a label for an option including its price delta."}, {"name": "buildAddOnHint", "description": "Generates hint text for add-on groups based on min and max selections and whether it's required."}, {"name": "renderPrice", "description": "Calculates and displays the total price based on current selections and quantity."}, {"name": "onConfirm", "description": "Validates user selections and notifies the listener with the configuration if all checks pass."}], "calls": ["getString", "requireContext", "View.inflate", "View.generateViewId", "layoutInflater.inflate", "dismissAllowingStateLoss"], "search-terms": ["ItemOptionsBottomSheet", "variant groups UI", "add-on groups UI", "price calculation", "configuration validation", "select variant", "select add-on", "bottom sheet dialog", "menu item options"], "state": 2, "file_id": 50, "knowledge_revision": 160, "git_revision": "64d44e6090eb0299f2ed220a6ee210cd2ab7fbeb", "hash": "a2e250000d9f50f76fc88c05ed25518c", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/ui/menu/ItemOptionsBottomSheet.kt", "revision_history": [{"160": "64d44e6090eb0299f2ed220a6ee210cd2ab7fbeb"}]}