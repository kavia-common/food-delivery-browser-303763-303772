{"is_source_file": true, "format": "Kotlin", "description": "This file defines the singleton object AppPreferencesRepository that manages user preferences related to the home screen in a food delivery app. It provides methods to initialize preferences, retrieve current values via LiveData, and update preferences with persistence through PreferencesStorage.", "external_files": ["org.example.app.data.storage.PreferencesStorage"], "external_methods": ["PreferencesStorage.from", "PreferencesStorage.loadPreferenceString", "PreferencesStorage.savePreferenceString"], "published": ["AppPreferencesRepository.initialize", "AppPreferencesRepository.setHomeFavoritesOnly", "AppPreferencesRepository.setHomeSearchQuery", "AppPreferencesRepository.setHomeVegOnly", "AppPreferencesRepository.setHomeSelectedCuisines", "AppPreferencesRepository.setHomeSortOption", "AppPreferencesRepository.homeFavoritesOnly", "AppPreferencesRepository.homeSearchQuery", "AppPreferencesRepository.homeVegOnly", "AppPreferencesRepository.homeSelectedCuisines", "AppPreferencesRepository.homeSortOption"], "classes": [{"name": "AppPreferencesRepository", "description": "Singleton object managing app preferences related to the home screen, including favorites toggle, search query, cuisine selections, and sort options, with persistent storage and LiveData observables."}, {"name": "HomeSortOption", "description": "Enum class representing sorting options for the home screen, with a method to get enum from string identifier."}], "methods": [{"name": "initialize", "description": "Initializes the preferences repository, loading persisted preference values from Storage."}, {"name": "setHomeFavoritesOnly", "description": "Sets the favorites-only filter preference and persists it."}, {"name": "setHomeSearchQuery", "description": "Sets the search query preference and persists it."}, {"name": "setHomeVegOnly", "description": "Sets the vegan-only filter preference and persists it."}, {"name": "setHomeSelectedCuisines", "description": "Sets the selected cuisines preference and persists it."}, {"name": "setHomeSortOption", "description": "Sets the selected sort option and persists it."}, {"name": "encodeCuisineSet", "description": "Encodes a set of cuisines into a pipe-delimited string for storage."}, {"name": "decodeCuisineSet", "description": "Decodes a stored string back into a set of cuisines."}, {"name": "toBooleanStrictOrNull", "description": "Converts a string to a boolean if it matches 'true' or 'false'; returns null otherwise."}], "calls": ["PreferencesStorage.from", "PreferencesStorage.loadPreferenceString", "PreferencesStorage.savePreferenceString"], "search-terms": ["AppPreferencesRepository", "preferences", "home_search_query", "home_favorites_only", "preferencesStorage", "setHomeSortOption", "decodeCuisineSet"], "state": 2, "file_id": 39, "knowledge_revision": 106, "git_revision": "ac812a530cde5aab51ee830d20669449da61e0a3", "revision_history": [{"99": "ac812a530cde5aab51ee830d20669449da61e0a3"}, {"106": "ac812a530cde5aab51ee830d20669449da61e0a3"}], "hash": "f9f7b41e9e57c1a273bf55c22c28701e", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/data/preferences/AppPreferencesRepository.kt"}