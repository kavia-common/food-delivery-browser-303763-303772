{"is_source_file": true, "format": "Kotlin", "description": "This file defines an object AppPreferencesRepository responsible for managing UI-related app preferences such as theme mode, search query, favorites toggle, cuisine selections, and sort options. It uses LiveData for observable state and persists preferences via PreferencesStorage.", "external_files": ["org.example.app.data.storage.PreferencesStorage"], "external_methods": ["PreferencesStorage.from", "PreferencesStorage.loadPreferenceString", "PreferencesStorage.savePreferenceString"], "published": ["AppPreferencesRepository"], "classes": [{"name": "ThemeMode", "description": "Enum representing app theme modes: system default, light, dark, with a helper to retrieve an enum instance from string id."}, {"name": "HomeSortOption", "description": "Enum representing sorting options for the home screen: rating descending, price ascending, ETA ascending, popularity descending, with a helper to retrieve an enum instance from string id."}], "methods": [{"name": "initialize", "description": "Initializes the repository by setting up storage and loading persisted preference values."}, {"name": "setThemeMode", "description": "Sets the theme mode preference, updates LiveData, and persists the change."}, {"name": "setHomeFavoritesOnly", "description": "Updates the favorites-only toggle, LiveData, and saves preference."}, {"name": "setHomeSearchQuery", "description": "Updates the search query string, LiveData, and persists it."}, {"name": "setHomeVegOnly", "description": "Updates the veg-only toggle, LiveData, and saves preference."}, {"name": "setHomeSelectedCuisines", "description": "Updates selected cuisines set, LiveData, and persists as a pipe-delimited string."}, {"name": "setHomeSortOption", "description": "Updates the sorting option, LiveData, and saves preference."}, {"name": "encodeCuisineSet", "description": "Encodes a set of cuisines into a pipe-delimited string."}, {"name": "decodeCuisineSet", "description": "Decodes a pipe-delimited string into a set of cuisine strings."}], "calls": ["PreferencesStorage.from", "PreferencesStorage.loadPreferenceString", "PreferencesStorage.savePreferenceString"], "search-terms": ["AppPreferencesRepository", "PreferencesStorage", "LiveData", "ThemeMode", "HomeSortOption", "preferences", "kotlin preferences", "UI preferences", "app settings"], "state": 2, "file_id": 39, "knowledge_revision": 123, "git_revision": "ec68bc5172b79f3c72327ea0ad8090ce19371643", "revision_history": [{"99": "ac812a530cde5aab51ee830d20669449da61e0a3"}, {"106": "ac812a530cde5aab51ee830d20669449da61e0a3"}, {"123": "ec68bc5172b79f3c72327ea0ad8090ce19371643"}], "hash": "8523d9e2b3be7409c094d05c085c00a0", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/data/preferences/AppPreferencesRepository.kt"}