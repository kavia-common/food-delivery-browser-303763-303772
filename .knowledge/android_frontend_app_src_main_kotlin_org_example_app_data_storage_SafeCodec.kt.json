{"is_source_file": true, "format": "Kotlin", "description": "This Kotlin source file defines a utility object `SafeCodec` responsible for encoding and decoding various data structures such as string lists, string sets, cart lines, applied promos, and fee settings into a lightweight serialized string format. It is used for persisting cart-related data in a stable, non-generic format within a food delivery application's Android frontend.", "external_files": ["org.example.app.data.cart.AppliedPromo", "org.example.app.data.cart.FeeSettings", "org.example.app.data.cart.PromoKind", "org.example.app.data.storage.models.StoredCartLine"], "external_methods": [], "published": ["encodeStringList", "decodeStringList", "encodeStringSet", "decodeStringSet", "encodeCartLines", "decodeCartLines", "encodeAppliedPromo", "decodeAppliedPromo", "encodeFeeSettings", "decodeFeeSettings"], "classes": [{"name": "SafeCodec", "description": "A utility object encapsulating methods for encoding and decoding cart data structures and related information into a lightweight string format for storage purposes."}], "methods": [{"name": "encodeStringList", "description": "Encodes a list of strings into a pipe-delimited string with escaping for pipe characters."}, {"name": "decodeStringList", "description": "Decodes a pipe-delimited string into a list of strings, correctly unescaping escaped pipe characters."}, {"name": "encodeStringSet", "description": "Encodes a set of strings into a pipe-delimited string with escaping."}, {"name": "decodeStringSet", "description": "Decodes a pipe-delimited string into a set of strings, handling escaped characters and malformed input."}, {"name": "encodeCartLines", "description": "Serializes a list of StoredCartLine objects into a newline-separated string, with each line representing a cart item with fields separated by pipes."}, {"name": "decodeCartLines", "description": "Deserializes a newline-separated string into a list of StoredCartLine objects, handling optional fields for backward compatibility."}, {"name": "encodeAppliedPromo", "description": "Serializes an AppliedPromo object into a pipe-delimited string with escaping."}, {"name": "decodeAppliedPromo", "description": "Deserializes a string into an AppliedPromo object, validating components and returning null if invalid."}, {"name": "encodeFeeSettings", "description": "Serializes FeeSettings into a pipe-delimited string with escaping."}, {"name": "decodeFeeSettings", "description": "Deserializes a string into FeeSettings, validating numeric components and constraints."}, {"name": "escape", "description": "Escapes special characters in a string, such as backslash, pipe, and newline, for safe storage."}, {"name": "unescape", "description": "Reverses the escape process, unescaping escaped characters in a string."}, {"name": "splitEscaped", "description": "Splits an input string on a separator character, considering escape sequences, into a list of substrings."}, {"name": "String.toBooleanStrictOrNull", "description": "Converts a string to a boolean if strictly 'true' or 'false'; returns null otherwise."}], "calls": ["splitEscaped", "unescape", "escape"], "search-terms": ["SafeCodec", "CartLines encoding", "AppliedPromo serialization", "FeeSettings encoding", "cart serialization", "string escaping", "decoding cart data", "serialization format"], "state": 2, "file_id": 36, "knowledge_revision": 315, "git_revision": "5e15db62566d0828eda2f083edf5df8b791c1e55", "revision_history": [{"92": "ac812a530cde5aab51ee830d20669449da61e0a3"}, {"117": "50c7aa46afe96fafa36f6da7e89f8349bbf6dc59"}, {"146": "64d44e6090eb0299f2ed220a6ee210cd2ab7fbeb"}, {"199": "64d44e6090eb0299f2ed220a6ee210cd2ab7fbeb"}, {"315": "5e15db62566d0828eda2f083edf5df8b791c1e55"}], "hash": "e57f331ebbc3faae4d9787ec343619b1", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/data/storage/SafeCodec.kt"}