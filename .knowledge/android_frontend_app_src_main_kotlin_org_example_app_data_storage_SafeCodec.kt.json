{"is_source_file": true, "format": "Kotlin", "description": "This file defines a utility object 'SafeCodec' for encoding and decoding various data structures such as string sets, cart lines, promotional info, and fee settings into a lightweight, stable string format for storage or transmission within the application.", "external_files": ["org.example.app.data.cart.AppliedPromo", "org.example.app.data.cart.FeeSettings", "org.example.app.data.cart.PromoKind", "org.example.app.data.storage.models.StoredCartLine"], "external_methods": ["java.util.List.joinToString", "java.util.List.split", "String.trim", "Boolean.toString", "Int.toString", "Double.toString", "List.mapNotNull", "List.asSequence", "Sequence.map", "Sequence.filter", "Sequence.toList", "Sequence.iterator", "StringBuilder.append"], "published": ["encodeStringSet", "decodeStringSet", "encodeCartLines", "decodeCartLines", "encodeAppliedPromo", "decodeAppliedPromo", "encodeFeeSettings", "decodeFeeSettings"], "classes": [], "methods": [{"name": "encodeStringSet", "description": "Serializes a set of strings into a pipe-delimited string with escaping."}, {"name": "decodeStringSet", "description": "Deserializes a string into a set of strings, handling escape sequences."}, {"name": "encodeCartLines", "description": "Encodes a list of StoredCartLine objects into a newline-delimited string, with fields separated by pipes and each line representing a cart item."}, {"name": "decodeCartLines", "description": "Decodes a string into a list of StoredCartLine objects, parsing each line and handling backward compatibility."}, {"name": "encodeAppliedPromo", "description": "Serializes an AppliedPromo object into a string."}, {"name": "decodeAppliedPromo", "description": "Deserializes a string into an AppliedPromo object, validating fields and promo kind."}, {"name": "encodeFeeSettings", "description": "Serializes FeeSettings into a delimited string."}, {"name": "decodeFeeSettings", "description": "Deserializes a string into a FeeSettings object, with validation."}, {"name": "escape", "description": "Escapes special characters in a string."}, {"name": "unescape", "description": "Reverses the escaping process to retrieve the original string."}, {"name": "splitEscaped", "description": "Splits a string by a separator character, respecting escape sequences."}, {"name": "String.toBooleanStrictOrNull", "description": "Converts a string to a boolean or null if invalid."}], "calls": ["splitEscaped", "escape", "unescape", "joinToString", "takeIf", "toIntOrNull", "toBooleanStrictOrNull", "toDoubleOrNull", "entries.firstOrNull", "trim", "lowercase"], "search-terms": ["SafeCodec", "encoding", "decoding", "cart lines", "promo", "fee settings", "serialization", "deserialization"], "state": 2, "file_id": 36, "knowledge_revision": 146, "git_revision": "64d44e6090eb0299f2ed220a6ee210cd2ab7fbeb", "revision_history": [{"92": "ac812a530cde5aab51ee830d20669449da61e0a3"}, {"117": "50c7aa46afe96fafa36f6da7e89f8349bbf6dc59"}, {"146": "64d44e6090eb0299f2ed220a6ee210cd2ab7fbeb"}], "hash": "a5bad807a6722ec4b81b309935df998c", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/data/storage/SafeCodec.kt"}