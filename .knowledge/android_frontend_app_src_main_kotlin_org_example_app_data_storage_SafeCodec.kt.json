{"is_source_file": true, "format": "Kotlin", "description": "This source file 'SafeCodec.kt' provides a lightweight serialization/deserialization utility for encoding and decoding various data structures such as string sets, cart lines, promo codes, and fee settings into a string format suitable for storage or transmission. It is tailored for a food delivery application's data storage needs, with specific encoding rules and backward compatibility considerations.", "external_files": ["org.example.app.data.cart.AppliedPromo", "org.example.app.data.cart.FeeSettings", "org.example.app.data.cart.PromoKind", "org.example.app.data.storage.models.StoredCartLine"], "external_methods": [], "published": ["encodeStringSet", "decodeStringSet", "encodeCartLines", "decodeCartLines", "encodeAppliedPromo", "decodeAppliedPromo", "encodeFeeSettings", "decodeFeeSettings"], "classes": [{"name": "SafeCodec", "description": "A singleton object providing encoding and decoding functions for various cart-related data structures, using custom delimiters and escape sequences to ensure data integrity during serialization."}], "methods": [{"name": "encodeStringSet", "description": "Encodes a set of strings into a single string with pipe delimiters, escaping special characters."}, {"name": "decodeStringSet", "description": "Decodes a string back into a set of strings, handling escaped delimiters."}, {"name": "encodeCartLines", "description": "Serializes a list of StoredCartLine objects into a custom string format with newline-separated lines and pipe-delimited fields."}, {"name": "decodeCartLines", "description": "Parses a string to reconstruct a list of StoredCartLine objects, handling backward compatibility and data validation."}, {"name": "encodeAppliedPromo", "description": "Encodes an AppliedPromo object into a string with pipe delimiters, escaping special characters."}, {"name": "decodeAppliedPromo", "description": "Decodes a string into an AppliedPromo object, validating the promo kind and value."}, {"name": "encodeFeeSettings", "description": "Serializes FeeSettings object into a string format."}, {"name": "decodeFeeSettings", "description": "Deserializes a string into a FeeSettings object, with validation."}, {"name": "escape", "description": "Escapes special characters in a string, such as backslash, pipe, and newline."}, {"name": "unescape", "description": "Unescapes escaped characters back into their literal form."}, {"name": "splitEscaped", "description": "Splits a string on a separator character, respecting escape sequences."}, {"name": "toBooleanStrictOrNull", "description": "Converts a string to a boolean value if it matches 'true' or 'false' (case-insensitive), otherwise null."}], "calls": ["splitEscaped", "unescape", "escape"], "search-terms": ["SafeCodec", "encodeCartLines", "decodeCartLines", "AppliedPromo serialization", "cart line encoding", "promo decoding", "FeeSettings serialization"], "state": 2, "file_id": 36, "knowledge_revision": 199, "git_revision": "64d44e6090eb0299f2ed220a6ee210cd2ab7fbeb", "revision_history": [{"92": "ac812a530cde5aab51ee830d20669449da61e0a3"}, {"117": "50c7aa46afe96fafa36f6da7e89f8349bbf6dc59"}, {"146": "64d44e6090eb0299f2ed220a6ee210cd2ab7fbeb"}, {"199": "64d44e6090eb0299f2ed220a6ee210cd2ab7fbeb"}], "hash": "286d87893273c1fb540507622050aae2", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/data/storage/SafeCodec.kt"}