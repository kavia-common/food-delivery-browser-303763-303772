{"is_source_file": true, "format": "Kotlin", "description": "This file implements the HomeFragment class for an Android application, responsible for displaying a list of restaurants with filters, search, sorting, and favorites functionality. It manages UI components like RecyclerView, switches, chips, and buttons, and handles user interactions to filter and sort restaurant data, observing ViewModel-lifecycle updates.", "external_files": ["R.layout.fragment_home", "R.layout.item_category_chip", "org.example.app.R", "org.example.app.data.favorites.FavoritesRepository", "org.example.app.data.mock.MockData", "org.example.app.data.models.Restaurant", "org.example.app.data.preferences.AppPreferencesRepository", "org.example.app.ui.shared.SharedAppViewModel", "androidx.fragment.app.Fragment", "androidx.lifecycle.ViewModelProvider", "androidx.recyclerview.widget.LinearLayoutManager", "androidx.recyclerview.widget.RecyclerView", "com.google.android.material.button.MaterialButton", "com.google.android.material.chip.Chip", "com.google.android.material.chip.ChipGroup", "com.google.android.material.switchmaterial.SwitchMaterial", "com.google.android.material.textfield.TextInputEditText", "com.google.android.material.textfield.TextInputLayout", "android.content.Context", "android.os.Bundle", "android.text.Editable", "android.text.TextWatcher", "android.view.LayoutInflater", "android.view.View", "android.view.ViewGroup", "android.widget.CompoundButton"], "external_methods": ["FavoritesRepository.isRestaurantFavorited", "FavoritesRepository.toggleRestaurantFavorite", "AppPreferencesRepository.setHomeFavoritesOnly", "AppPreferencesRepository.setHomeSearchQuery", "AppPreferencesRepository.setHomeVegOnly", "AppPreferencesRepository.setHomeSelectedCuisines", "AppPreferencesRepository.setHomeSortOption", "sharedAppViewModel.homeFavoritesOnly.value", "sharedAppViewModel.favoriteRestaurantIds.value", "sharedAppViewModel.homeSearchQuery.value", "sharedAppViewModel.homeVegOnly.value", "sharedAppViewModel.homeSelectedCuisines.value", "sharedAppViewModel.homeSortOption.value"], "published": ["HomeFragment"], "classes": [{"name": "HomeFragment", "description": "A Fragment subclass managing the main home screen with restaurant filters, search, sorting, and favorites functionality."}], "methods": [{"name": "onAttach", "description": "Initializes the adapter with click and favorite toggle handlers."}, {"name": "onCreate", "description": "Initializes the shared ViewModel."}, {"name": "onCreateView", "description": "Inflates the fragment's layout from XML."}, {"name": "onViewCreated", "description": "Binds UI components, sets up RecyclerView, filters, search, sorting, and observers for ViewModel data."}, {"name": "setupSearch", "description": "Configures search input to update preferences on text change."}, {"name": "setupFilterChips", "description": "Creates and initializes filter chips for veg-only and cuisine tags."}, {"name": "setupSort", "description": "Sets up the sort button click listener."}, {"name": "showSortDialog", "description": "Displays a dialog to select sorting options."}, {"name": "getSortLabel", "description": "Returns user-friendly string labels for sort options."}, {"name": "restoreUiFromPreferences", "description": "Restores search query, chip states, and UI elements based on preferences."}, {"name": "applySearchAndFilters", "description": "Filters the restaurant list based on search query and selected filters."}, {"name": "applySort", "description": "Sorts the restaurant list based on the selected sorting option and favorited status."}], "calls": ["FavoritesRepository.isRestaurantFavorited", "FavoritesRepository.toggleRestaurantFavorite", "AppPreferencesRepository.setHomeFavoritesOnly", "AppPreferencesRepository.setHomeSearchQuery", "AppPreferencesRepository.setHomeVegOnly", "AppPreferencesRepository.setHomeSelectedCuisines", "AppPreferencesRepository.setHomeSortOption", "sharedAppViewModel.favoriteRestaurantIds.observe", "sharedAppViewModel.homeFavoritesOnly.observe", "sharedAppViewModel.homeSearchQuery.observe", "sharedAppViewModel.homeVegOnly.observe", "sharedAppViewModel.homeSelectedCuisines.observe", "sharedAppViewModel.homeSortOption.observe", "adapter.notifyDataSetChanged", "getString", "showSortDialog", "getSortLabel", "MockData.menuForRestaurant"], "search-terms": ["Kotlin", "Android Fragment", "RecyclerView", "Filters", "Search", "Sort", "Favorites", "ChipGroup", "MaterialButton", "SwitchMaterial", "SharedViewModel", "applyFilters", "applySort"], "state": 2, "file_id": 17, "knowledge_revision": 111, "git_revision": "ec68bc5172b79f3c72327ea0ad8090ce19371643", "revision_history": [{"52": ""}, {"93": "ac812a530cde5aab51ee830d20669449da61e0a3"}, {"111": "ec68bc5172b79f3c72327ea0ad8090ce19371643"}], "hash": "099b3ac9326315ee1743630448708931", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/ui/home/HomeFragment.kt"}