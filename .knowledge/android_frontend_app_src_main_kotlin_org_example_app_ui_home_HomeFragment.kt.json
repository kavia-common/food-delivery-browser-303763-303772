{"is_source_file": true, "format": "Kotlin (Android Fragment)", "description": "This file defines the HomeFragment class, which manages the main UI for displaying a list of restaurants. It handles filtering, sorting, search, and user interactions such as favoriting restaurants and changing themes. It integrates with ViewModel for state management and leverages various Android UI components and Material Design elements.", "external_files": ["R (resources)", "androidx.fragment.app.Fragment", "androidx.lifecycle.ViewModelProvider", "androidx.recyclerview.widget.RecyclerView", "com.google.android.material.switchmaterial.SwitchMaterial", "com.google.android.material.chip.Chip", "com.google.android.material.chip.ChipGroup", "com.google.android.material.button.MaterialButton", "com.google.android.material.textfield.TextInputEditText", "com.google.android.material.textfield.TextInputLayout", "org.example.app.MainActivity", "org.example.app.R", "org.example.app.data.favorites.FavoritesRepository", "org.example.app.data.mock.MockData", "org.example.app.data.models.Restaurant", "org.example.app.data.preferences.AppPreferencesRepository", "org.example.app.ui.shared.SharedAppViewModel"], "external_methods": ["FavoritesRepository.isRestaurantFavorited", "FavoritesRepository.toggleRestaurantFavorite", "AppPreferencesRepository.setHomeFavoritesOnly", "AppPreferencesRepository.setHomeSearchQuery", "AppPreferencesRepository.setHomeVegOnly", "AppPreferencesRepository.setHomeSelectedCuisines", "AppPreferencesRepository.setHomeSortOption", "AppPreferencesRepository.setThemeMode", "AppPreferencesRepository.ThemeMode", "SharedAppViewModel.homeFavoritesOnly", "SharedAppViewModel.homeSearchQuery", "SharedAppViewModel.homeVegOnly", "SharedAppViewModel.homeSelectedCuisines", "SharedAppViewModel.homeSortOption", "SharedAppViewModel.themeMode"], "published": ["HomeFragment"], "classes": [{"name": "HomeFragment", "description": "An Android Fragment managing the main restaurant list UI, including filtering, sorting, search, and user preferences."}], "methods": [{"name": "onAttach", "description": "Initializes the RestaurantAdapter with click and favorite toggle handlers."}, {"name": "onCreate", "description": "Initializes the shared ViewModel and enables options menu."}, {"name": "onCreateOptionsMenu", "description": "Inflates the overflow menu."}, {"name": "onOptionsItemSelected", "description": "Handles theme change menu actions."}, {"name": "onCreateView", "description": "Inflates the fragment layout."}, {"name": "onViewCreated", "description": "Initializes UI components, sets up filters, search, sorting, restoration of preferences, and observers."}, {"name": "setupSearch", "description": "Sets up the search EditText to listen for text changes."}, {"name": "setupFilterChips", "description": "Initializes filter chips for veg-only and cuisine tags, with change listeners."}, {"name": "setupSort", "description": "Initializes the sort button click listener."}, {"name": "showSortDialog", "description": "Displays a dialog to choose sorting options."}, {"name": "showThemeDialog", "description": "Displays a dialog to select theme mode."}, {"name": "getSortLabel", "description": "Returns user-friendly label for a sort option."}, {"name": "restoreUiFromPreferences", "description": "Restores UI state from stored preferences and ViewModel LiveData."}, {"name": "applySearchAndFilters", "description": "Filters the list of restaurants based on search query, veg-only, and cuisine tags."}, {"name": "applySort", "description": "Sorts the restaurant list based on selected sort option and favorites."}], "calls": ["FavoritesRepository.isRestaurantFavorited", "FavoritesRepository.toggleRestaurantFavorite", "AppPreferencesRepository.setHomeFavoritesOnly", "AppPreferencesRepository.setHomeSearchQuery", "AppPreferencesRepository.setHomeVegOnly", "AppPreferencesRepository.setHomeSelectedCuisines", "AppPreferencesRepository.setHomeSortOption", "AppPreferencesRepository.setThemeMode", "MockData.restaurants", "MockData.menuForRestaurant"], "search-terms": ["HomeFragment", "restaurant list UI", "filter chips", "sort options", "favorites toggle", "search input", "theme dialog", "Veg-only filter", "Cuisine tags", "RecyclerView"], "state": 2, "file_id": 17, "knowledge_revision": 142, "git_revision": "234954649911681eb37326c98e5a3c4636728440", "revision_history": [{"52": ""}, {"93": "ac812a530cde5aab51ee830d20669449da61e0a3"}, {"111": "ec68bc5172b79f3c72327ea0ad8090ce19371643"}, {"127": "ec68bc5172b79f3c72327ea0ad8090ce19371643"}, {"142": "234954649911681eb37326c98e5a3c4636728440"}], "hash": "a319f906c0769e58d91559603c504149", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/ui/home/HomeFragment.kt"}