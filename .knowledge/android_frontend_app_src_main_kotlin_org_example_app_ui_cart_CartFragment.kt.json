{"is_source_file": true, "format": "Kotlin", "description": "This is a Kotlin source file defining a UI fragment called CartFragment for an Android food delivery app. It manages displaying cart items, applying promo codes, handling order instructions, and proceeding to order placement. It interacts with repositories for cart data and delivery services, and manages various UI components and user interactions within a shopping cart interface.", "external_files": ["R (resources, e.g., strings, layouts)", "org.example.app.MainActivity", "org.example.app.common.Formatters", "org.example.app.data.cart.CartRepository", "org.example.app.data.cart.CartTotals", "org.example.app.data.cart.PromoApplyResult", "org.example.app.data.delivery.DeliveryRepository", "org.example.app.data.mock.MockData", "org.example.app.data.models.CartLine", "org.example.app.ui.menu.ItemOptionsBottomSheet"], "external_methods": ["CartRepository.updateQuantity", "CartRepository.remove", "CartRepository.setOrderInstructions", "CartRepository.clearOrderInstructions", "CartRepository.applyPromoCode", "CartRepository.removePromo", "CartRepository.getLineQuantity", "CartRepository.addConfigured", "CartRepository.updateLineItemNote", "CartRepository.cartLines.observe", "CartRepository.orderInstructions.observe", "CartRepository.appliedPromo.observe", "CartRepository.totals.observe", "DeliveryRepository.placeOrderFromCart", "Formatters.moneyFromCents"], "published": ["CartFragment"], "classes": [{"name": "CartFragment", "description": "An Android Fragment managing the shopping cart UI, including item list, promo codes, order instructions, and order placement."}], "methods": [{"name": "onCreate", "description": "Initializes the adapter with callback handlers for cart item actions."}, {"name": "onCreateView", "description": "Inflates the fragment layout from XML."}, {"name": "onViewCreated", "description": "Initializes UI components, sets up event handlers, and observes data changes to update the UI accordingly."}, {"name": "openEditOptions", "description": "Opens a bottom sheet for editing cart item options, handling item configuration and notes."}, {"name": "renderTotals", "description": "Updates the UI with the latest cart totals including subtotal, discounts, fees, taxes, and total."}], "calls": ["CartRepository.updateQuantity", "CartRepository.remove", "DeliveryRepository.placeOrderFromCart", "CartRepository.setOrderInstructions", "CartRepository.applyPromoCode", "CartRepository.removePromo", "CartRepository.getLineQuantity", "CartRepository.addConfigured", "CartRepository.updateLineItemNote", "activity.openDelivery", "MockData.restaurants", "Formatters.moneyFromCents"], "search-terms": ["CartFragment", "promotions", "order instructions", "cart totals", "UI fragment", "Android Kotlin"], "state": 2, "file_id": 21, "knowledge_revision": 206, "git_revision": "6e91d21a038bee6a12947e6117ed8dfb31963ce7", "revision_history": [{"56": ""}, {"120": "50c7aa46afe96fafa36f6da7e89f8349bbf6dc59"}, {"156": "64d44e6090eb0299f2ed220a6ee210cd2ab7fbeb"}, {"194": "6e91d21a038bee6a12947e6117ed8dfb31963ce7"}, {"206": "6e91d21a038bee6a12947e6117ed8dfb31963ce7"}], "hash": "386fb235c2a082cd56e63aa37f1188e4", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/ui/cart/CartFragment.kt"}