{"is_source_file": true, "format": "Kotlin", "description": "This Kotlin source file defines the CartFragment class for an Android food delivery app. The fragment manages the shopping cart UI, including displaying cart items, handling user interactions such as applying/removing promo codes, editing item options, and placing orders. It observes data from repositories to update UI components like totals, promo status, and cart items dynamically.", "external_files": ["R.layout.fragment_cart", "org.example.app.data.cart.CartRepository", "org.example.app.data.delivery.DeliveryRepository", "org.example.app.common.Formatters", "org.example.app.data.models.CartLine", "org.example.app.data.cart.PromoApplyResult", "org.example.app.ui.common.MotionUtils", "org.example.app.ui.menu.ItemOptionsBottomSheet", "org.example.app.MainActivity", "org.example.app.R", "org.example.app.data.mock.MockData"], "external_methods": ["CartRepository.updateQuantity", "CartRepository.remove", "CartRepository.setOrderInstructions", "CartRepository.applyPromoCode", "CartRepository.removePromo", "CartRepository.clearOrderInstructions", "CartRepository.getLineQuantity", "CartRepository.updateLineItemNote", "CartRepository.cartLines.observe", "CartRepository.orderInstructions.observe", "CartRepository.appliedPromo.observe", "CartRepository.totals.observe", "DeliveryRepository.placeOrderFromCart", "Formatters.moneyFromCents", "MockData.restaurants", "MainActivity.openDelivery", "MotionUtils.createSubtleItemAnimator"], "published": ["CartFragment.TAG"], "classes": [{"name": "CartFragment", "description": "An Android Fragment that manages the shopping cart UI, allowing users to view cart items, modify quantities, apply promo codes, add instructions, and place orders."}], "methods": [{"name": "onCreate", "description": "Initializes the CartAdapter with callbacks for incrementing, decrementing, removing, and editing cart items."}, {"name": "onCreateView", "description": "Inflates the layout for the fragment's UI."}, {"name": "onViewCreated", "description": "Binds view elements, sets up UI event listeners, and observes data changes from repositories to update the UI accordingly."}, {"name": "openEditOptions", "description": "Opens a bottom sheet dialog for editing item options if the item has configurable options."}, {"name": "renderTotals", "description": "Updates the totals UI components based on the current cart totals."}], "calls": ["CartRepository.updateQuantity", "CartRepository.remove", "CartRepository.setOrderInstructions", "DeliveryRepository.placeOrderFromCart", "CartRepository.remove", "CartRepository.clearOrderInstructions", "CartRepository.applyPromoCode", "CartRepository.removePromo", "CartRepository.setOrderInstructions", "CartRepository.getLineQuantity", "CartRepository.updateLineItemNote", "MotionUtils.createSubtleItemAnimator"], "search-terms": ["CartFragment", "applyPromo", "editItemOptions", "placeOrder", "promoCode", "cartItems", "TotalsDisplay", "Android Fragment", "Kotlin shopping cart"], "state": 2, "file_id": 21, "knowledge_revision": 350, "git_revision": "6149f631d7405ee80811630456db9b1a0dfb7272", "revision_history": [{"56": ""}, {"120": "50c7aa46afe96fafa36f6da7e89f8349bbf6dc59"}, {"156": "64d44e6090eb0299f2ed220a6ee210cd2ab7fbeb"}, {"194": "6e91d21a038bee6a12947e6117ed8dfb31963ce7"}, {"206": "6e91d21a038bee6a12947e6117ed8dfb31963ce7"}, {"233": "5e15db62566d0828eda2f083edf5df8b791c1e55"}, {"350": "6149f631d7405ee80811630456db9b1a0dfb7272"}], "hash": "da0ccc6b2932750b2e9edfb22f841fe5", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/ui/cart/CartFragment.kt"}